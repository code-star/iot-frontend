(this["webpackJsonpiot-frontend"]=this["webpackJsonpiot-frontend"]||[]).push([[0],{25:function(t,e,n){},30:function(t,e,n){"use strict";n.r(e);var r=n(5),a=n(2),c=n.n(a),i=n(18),o=n.n(i),u=(n(25),n(9)),s=n(7),d=n.n(s),l=n(12),f=n(11),v=n(16),j={latitude:-1.9444,longitude:30.0616,zoom:15,bearing:0,pitch:0},p=function(t){var e=t.sensorsData;return Object(r.jsx)(r.Fragment,{children:e.filter((function(t){return t.coordinates[0]>0})).map((function(t,e){var n=Object(u.a)(t.coordinates,2),a=n[0],c=n[1];return Object(r.jsx)(v.a,{longitude:c,latitude:a,children:"x"},e)}))})},b=function(t){var e=t.sensorsData,n=Object(a.useState)(function(t){if(!t.length)return j;var e=Object(u.a)(t.filter((function(t){return t.coordinates[0]>0}))[0].coordinates,2),n=e[0],r=e[1];return Object(f.a)(Object(f.a)({},j),{},{latitude:n,longitude:r})}(e)),c=Object(u.a)(n,2),i=c[0],o=c[1];return Object(r.jsx)("div",{className:"mapbox-react",children:Object(r.jsx)(v.b,Object(f.a)(Object(f.a)({},i),{},{width:"100vw",height:"100vh",mapStyle:"mapbox://styles/mapbox/streets-v11",onViewportChange:function(t){return o(t)},mapboxApiAccessToken:"pk.eyJ1IjoiY29kZXN0YXItaW90IiwiYSI6ImNraDZjeTRjcTA5Z2Eyd281djNnc2d3eHUifQ.VcY4aGyFHBQo_r701-3A_A",children:Object(r.jsx)(p,{sensorsData:e})}))})},h=function(){var t=Object(l.a)(d.a.mark((function t(){var e,n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://codestar-iot-api.herokuapp.com/get");case 3:return e=t.sent,t.next=6,e.json();case 6:return n=t.sent,r=n.filter((function(t){var e,n,r,a,c=null!==(e=null===(n=t.find((function(t){return"latitude"===t.n})))||void 0===n?void 0:n.v)&&void 0!==e?e:0,i=null!==(r=null===(a=t.find((function(t){return"temperature"===t.n})))||void 0===a?void 0:a.v)&&void 0!==r?r:0;return c||i})).map((function(t){var e,n,r,a,c,i,o=null!==(e=null===(n=t.find((function(t){return"latitude"===t.n})))||void 0===n?void 0:n.v)&&void 0!==e?e:0,u=null!==(r=null===(a=t.find((function(t){return"longitude"===t.n})))||void 0===a?void 0:a.v)&&void 0!==r?r:0;return{temperature:null!==(c=null===(i=t.find((function(t){return"temperature"===t.n})))||void 0===i?void 0:i.v)&&void 0!==c?c:0,coordinates:[o,u]}})),t.abrupt("return",r);case 11:return t.prev=11,t.t0=t.catch(0),console.error(),t.abrupt("return",[]);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(a.useState)(),e=Object(u.a)(t,2),n=e[0],c=e[1];return Object(a.useEffect)((function(){(function(){var t=Object(l.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,h();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()();var t=setInterval(Object(l.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,h();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)}))),1e4);return function(){return clearInterval(t)}}),[]),Object(r.jsx)("div",{children:n?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(b,{sensorsData:n})}):Object(r.jsx)("p",{children:"No data"})})},x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),x()}},[[30,1,2]]]);
//# sourceMappingURL=main.49df098b.chunk.js.map